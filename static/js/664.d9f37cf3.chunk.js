"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[664],{5130:function(n,e,t){t(2791);var r=t(184);e.Z=function(n){var e=n.title,t=n.children;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:e}),(0,r.jsx)("ul",{children:t})]})}},1323:function(n,e,t){t(2791);var r=t(4151),a=t(184);e.Z=function(n){var e=n.movieId,t=n.movieTitle,u=n.to,o=n.from;return(0,a.jsx)("li",{children:(0,a.jsx)(r.rU,{to:"".concat(u),state:{from:o},children:t})},e)}},2664:function(n,e,t){t.r(e),t.d(e,{default:function(){return y}});var r,a,u,o=t(5861),i=t(9439),c=t(7757),s=t.n(c),p=t(2791),l=t(1087),f=t(7689),h=t(168),x=t(6444),v=x.ZP.form(r||(r=(0,h.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: start;\n  align-items: center;\n  margin: 0;\n  margin-bottom: 20px;\n  height: 30px;\n  width: 70vw;\n  gap: 4px;\n"]))),d=x.ZP.input(a||(a=(0,h.Z)(["\n  padding: 8px;\n  height: 100%;\n  width: 320px;\n  border-color: white;\n  border-radius: 4px;\n  outline: none;\n  color: #261c09;\n  box-shadow: 4px 4px 6px rgba(58, 43, 12, 0.22);\n"]))),g=x.ZP.button(u||(u=(0,h.Z)(["\n  text-align: center;\n  height: 100%;\n  width: 100px;\n  \n\n  padding: 0 20px;\n  background-color: orange;\n  color: white;\n  font-weight: 700;\n  font-size: 16px;\n  line-height: 1.87;\n  letter-spacing: 0.06em;\n  text-align: center;\n  cursor: pointer;\n  border: none;\n  border-radius: 4px;\n  box-shadow: inset 3px 6px 16px -8px rgba(249, 243, 232, 0.9),\n    inset -2px -2px 8px 1px rgba(77, 57, 19, 0.75),\n    4px 4px 6px rgba(58, 43, 12, 0.22);\n  &:hover {\n    box-shadow: inset 2px 2px 3px rgba(77, 57, 19, 0.75),\n      inset -2px -2px 4px rgba(249, 243, 232, 0.6);\n  }\n"]))),m=t(184),b=function(n){var e=n.searcher,t=(0,p.useState)(""),r=(0,i.Z)(t,2),a=r[0],u=r[1];return(0,m.jsxs)(v,{onSubmit:function(n){return function(n){n.preventDefault(),e(a),u("")}(n)},children:[(0,m.jsx)(d,{type:"search",name:"query",value:a,placeholder:"Enter a movie title",onChange:function(n){return function(n){u(n.target.value)}(n)}}),(0,m.jsx)(g,{type:"submit",children:"Search"})]})},w=t(5130),Z=t(1323),k=t(4390),y=function(){var n=(0,p.useState)(null),e=(0,i.Z)(n,2),t=e[0],r=e[1],a=(0,l.lr)(),u=(0,i.Z)(a,2),c=u[0],h=u[1],x=(0,p.useState)(c.get("query")),v=(0,i.Z)(x,2),d=v[0],g=v[1],y=(0,f.TH)(),j=(0,p.useState)(!1),_=(0,i.Z)(j,2),S=_[0],E=_[1];return(0,p.useEffect)((function(){h({query:d});var n=function(){var n=(0,o.Z)(s().mark((function n(){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,k.Qu)(d);case 2:e=n.sent,console.log("RES",e),null!==e&&(r(e),E(!0)),0===e.length&&(E(!1),console.log("ZERO"));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[d,h]),(0,m.jsxs)("main",{children:[(0,m.jsx)(b,{filter:d,searcher:function(n){return function(n){n&&g(n)}(n)}}),!S&&(0,m.jsx)("div",{children:(0,m.jsx)("h4",{children:"Search The Movie DataBase for movies"})}),(0,m.jsx)(w.Z,{children:t&&t.map((function(n){var e=n.movieId,t=n.movieTitle;return(0,m.jsx)(Z.Z,{movieTitle:t,to:e.toString(),from:y,movieId:e},e)}))})]})}},4390:function(n,e,t){t.d(e,{Df:function(){return s},M1:function(){return h},Qu:function(){return l},TP:function(){return f},tx:function(){return x}});var r=t(1413),a=t(5861),u=t(7757),o=t.n(u),i=t(1243),c=function(){var n=(0,a.Z)(o().mark((function n(e,t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",i.Z.get("https://api.themoviedb.org/3"+e,{params:(0,r.Z)({api_key:"7e626872ba2c457d969115031d94d6fb",language:"en-US",page:1},t)}).then((function(n){return n})).catch((function(n){console.log("error",n)})));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),s=function(){var n=(0,a.Z)(o().mark((function n(){var e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c("/trending/movie/day");case 2:if(null!==(e=n.sent)){n.next=5;break}return n.abrupt("return",null);case 5:return console.log("FULL RESPONSE",e),t=[],p(e.data.results,t),n.abrupt("return",t);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(n,e){n.forEach((function(n){return e.push({movieId:n.id,movieTitle:n.title})}))},l=function(){var n=(0,a.Z)(o().mark((function n(e){var t,r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={query:e,page:1},n.next=3,c("/search/movie",t);case 3:if(null!==(r=n.sent)){n.next=6;break}return n.abrupt("return",null);case 6:return a=[],p(r.data.results,a),n.abrupt("return",a);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,a.Z)(o().mark((function n(e){var t,r,a,u,i,s,p,l,f,h;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c("/movie/".concat(e));case 2:if(null!==(t=n.sent)){n.next=5;break}return n.abrupt("return",null);case 5:return r=t.data,a=r.poster_path,u=r.title,i=r.release_date,s=r.vote_average,p=r.vote_count,l=r.overview,f=r.genres,h={posterPath:"https://image.tmdb.org/t/p/w300"+a,title:u,releaseDate:"".concat(new Date(i).getFullYear()),voteAverage:s,voteCount:p,overview:l,genres:f},n.abrupt("return",h);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,a.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c("/movie/".concat(e,"/credits"));case 2:if(null!==(t=n.sent)){n.next=5;break}return n.abrupt("return",null);case 5:return r=[],t.data.cast.forEach((function(n){var e=n.id,t=n.profile_path,a=n.name,u=n.character;return r.push({id:e,srcImg:"https://image.tmdb.org/t/p/w200"+t,name:a,character:u})})),n.abrupt("return",r);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),x=function(){var n=(0,a.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c("/movie/".concat(e,"/reviews"));case 2:if(null!==(t=n.sent)){n.next=5;break}return n.abrupt("return",null);case 5:return r=[],t.data.results.forEach((function(n){var e=n.id,t=n.author,a=n.content;return r.push({id:e,author:t,content:a})})),n.abrupt("return",r);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=664.d9f37cf3.chunk.js.map