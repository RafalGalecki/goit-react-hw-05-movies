{"version":3,"file":"static/js/595.7e9901d4.chunk.js","mappings":"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","sources":["components/Cast/Cast.styled.js","components/CastElement/CastElement.styled.js","components/SimilarElement/SimilarElement.jsx","components/Similar/Similar.jsx","services/api.js","webpack://goit-react-hw-05-movies/./src/components/CastElement/CastElement.module.css?10dc","../node_modules/nanoid/index.browser.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const CastGrid = styled.div`\ndisplay: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n  row-gap: 18px;\n  column-gap: 12px;\n  margin-top: 12px;\n  margin-left: auto;\n  margin-right: auto;\n\n`;\n\n","import styled from 'styled-components';\n\nexport const Portrait = styled.div`\n  max-width: 160px;\n  background-color: grey;\n  box-shadow: 0px 6px 3px -2px rgba(0, 0, 0, 0.36);\n  transition-property: transform;\n  transition-duration: 250ms;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  border-radius: 6px;\n   & > img {border-radius: 6px;}\n\n  &:hover {\n    transform: scale(1.03);\n    transform: box-shadow;\n    box-shadow: 0px 5px 3px 1px rgba(0, 0, 0, 0.46);\n`;\n\nexport const Role = styled.div`\n  font-size: 12px;\n  height: 40px;\n  padding: 10px 0;\n  margin-bottom: 8px;\n`;\n\nexport const CastGridItem = styled.li`\n  flex-basis: calc((100% - 15px) * 1 / 2);\n\n  display: flex;\n  flex-direction: column;\n  @media screen and (min-width: 340px) {\n    flex-basis: calc((100% - 15px * 2) / 3);\n  }\n  @media screen and (min-width: 480px) {\n    flex-basis: calc((100% - 15px * 3) / 4);\n  }\n  @media screen and (min-width: 620px) {\n    flex-basis: calc((100% - 15px * 4) / 5);\n  }\n  @media screen and (min-width: 768px) {\n    flex-basis: calc((100% - 15px * 5) / 6);\n  }\n  @media screen and (min-width: 968px) {\n    flex-basis: calc((100% - 15px * 6) / 7);\n  }\n  @media screen and (min-width: 1140px) {\n    flex-basis: calc((100% - 15px * 7) / 8);\n  }\n`;\n","import React from 'react';\nimport {\n  Portrait,\n  Role,\n  CastGridItem,\n} from '../CastElement/CastElement.styled';\nimport css from '../CastElement/CastElement.module.css'\nimport placeholderPortrait from '../../images/placeholderPortrait.jpg';\n\nconst SimilarElement = ({ id, srcImg, title, releaseDate }) => {\n  return (\n    <CastGridItem key={id}>\n      {!srcImg.includes(null) ? (\n        <Portrait>\n          <img src={srcImg} alt={`${title} - this movie's poster`} />\n        </Portrait>\n      ) : (\n        <div className={css.thumb}>\n          <img\n            className={css.image}\n            src={placeholderPortrait}\n            alt=\"placeholder\"\n          />\n          <p className={css.label}>No image yet</p>\n        </div>\n      )}\n      <Role>\n        <p>\n          <b>{title}</b>\n        </p>\n        <p>{releaseDate}</p>\n      </Role>\n    </CastGridItem>\n  );\n};\nexport default SimilarElement;\n","import { useState, useEffect, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { nanoid } from 'nanoid';\nimport { getMovieSimilar } from 'services/api';\nimport SimilarElement from 'components/SimilarElement/SimilarElement';\nimport { Container } from '../SharedLayout/SharedLayout.styled';\nimport { CastGrid } from '../Cast/Cast.styled';\n\nconst Similar = () => {\n  const [similar, setSimilar] = useState([]);\n  const { id } = useParams();\n  const divRef = useRef(null);\n\n  useEffect(() => {\n    divRef.current.scrollIntoView({ behavior: 'smooth' });\n  });\n\n  useEffect(() => {\n    const getSimilar = async () => {\n      const response = await getMovieSimilar(id);\n      if (response !== null) {\n        setSimilar([...response]);\n      } else {\n        setSimilar([]);\n      }\n    };\n    getSimilar();\n  }, [id]);\n\n  return (\n    <Container>\n      <div ref={divRef} />\n      {similar.length > 0 ? (\n        <CastGrid>\n          {similar.map(element => {\n            return (\n              <SimilarElement\n                key={element.id + nanoid()}\n                srcImg={element.srcImg}\n                title={element.title}\n                releaseDate={element.releaseDate}\n              />\n            );\n          })}\n        </CastGrid>\n      ) : (\n        <div>Similar movies not found</div>\n      )}\n    </Container>\n  );\n};\n\nexport default Similar;\n","import axios from 'axios';\n\nexport const API_KEY = process.env.REACT_APP_AUTH_TOKEN;\nexport const BASE_URL = 'https://api.themoviedb.org/3';\nexport const PAGE = 1;\n\n// This is tha main fetch fuction\nconst fetchTMDB = async (urlPath, myParams) => {\n  return axios\n    .get(BASE_URL + urlPath, {\n      params: {\n        api_key: API_KEY,\n        language: 'en-US',\n        page: 1,\n        ...myParams,\n      },\n    })\n    .then(response => {\n      console.log('FULL Response:', response);\n      console.log('API KEY:', process.env.REACT_APP_AUTH_TOKEN);\n      return response;\n    })\n    .catch(error => {\n      console.log('error', error);\n    });\n};\n\nconst getTrendingMovies = async () => {\n  const response = await fetchTMDB('/trending/movie/day');\n  if (response === null) {\n    return null;\n  }\n  let movies = [];\n  handleMoviesData(response.data.results, movies);\n  console.log('Trending', response);\n  return movies;\n};\n\nconst handleMoviesData = (response, movies) => {\n  response.forEach(movie => {\n    return movies.push({\n      movieId: movie.id,\n      movieTitle: movie.title,\n      movieBackdrop: 'https://image.tmdb.org/t/p/w200' + movie.backdrop_path,\n    });\n  });\n};\n\nconst getQueryMovies = async query => {\n  const myParams = {\n    query: query,\n    page: 1,\n  };\n  const response = await fetchTMDB('/search/movie', myParams);\n  if (response === null) {\n    return null;\n  }\n  let movies = [];\n  handleMoviesData(response.data.results, movies);\n  return movies;\n};\n\nconst getMovieDetails = async id => {\n  const response = await fetchTMDB(`/movie/${id}`);\n  if (response === null) {\n    return null;\n  }\n  const {\n    poster_path,\n    title,\n    release_date,\n    vote_average,\n    vote_count,\n    overview,\n    genres,\n    homepage,\n    tagline,\n  } = response.data;\n  const movieDetails = {\n    posterPath: 'https://image.tmdb.org/t/p/w300' + poster_path,\n    title,\n    releaseDate: `${new Date(release_date).getFullYear()}`,\n    voteAverage: vote_average,\n    voteCount: vote_count,\n    overview,\n    genres,\n    homepage,\n    tagline,\n  };\n  console.log('details', response);\n  return movieDetails;\n};\n\nconst getMovieCast = async id => {\n  const response = await fetchTMDB(`/movie/${id}/credits`);\n  if (response === null) {\n    return null;\n  }\n  let cast = [];\n  console.log('CAST', response);\n  response.data.cast.forEach(element => {\n    const { id, profile_path, name, character } = element;\n    return cast.push({\n      id,\n      srcImg: 'https://image.tmdb.org/t/p/w200' + profile_path,\n      name,\n      character,\n    });\n  });\n  return cast;\n};\n\nconst getMovieCrew = async id => {\n  const response = await fetchTMDB(`/movie/${id}/credits`);\n  if (response === null) {\n    return null;\n  }\n  let crew = [];\n  console.log('Crew', response);\n  response.data.crew.forEach(element => {\n    const { id, profile_path, name, department, job } = element;\n    return crew.push({\n      id,\n      srcImg: 'https://image.tmdb.org/t/p/w200' + profile_path,\n      name,\n      department,\n      job,\n    });\n  });\n  return crew;\n};\n\nconst getMovieReviews = async id => {\n  const response = await fetchTMDB(`/movie/${id}/reviews`);\n  if (response === null) {\n    return null;\n  }\n  let reviews = [];\n  response.data.results.forEach(element => {\n    const { id, author, content } = element;\n    return reviews.push({ id, author, content });\n  });\n  return reviews;\n};\n\nconst getMovieSimilar = async id => {\n  const response = await fetchTMDB(`/movie/${id}/similar`);\n  if (response === null) {\n    return null;\n  }\n  let similar = [];\n  console.log('SIMILAR', response);\n  response.data.results.forEach(element => {\n    const { id, poster_path, title, release_date } = element;\n    return similar.push({\n      id,\n      srcImg: 'https://image.tmdb.org/t/p/w200' + poster_path,\n      title,\n      releaseDate: `${new Date(release_date).getFullYear()}`,\n    });\n  });\n  return similar;\n};\n\nconst getTheBestOfGenre = async (genre) => {\n  const response = await fetchTMDB(\n    `/discover/movie?with_genres=${genre}&sort_by=vote_average.desc&vote_count.gte=10`\n  );\n  if (response === null) {\n    return null;\n  }\n  console.log('BEST res', response)\n  let movies = [];\n  handleMoviesData(response.data.results, movies);\n  return movies;\n};\n\nconst getMoviesWithCast = async (castId) => {\n  const response = await fetchTMDB(\n    `/discover/movie?with_people=${castId}&sort_by=vote_average.desc`\n  );\n  if (response === null) {\n    return null;\n  }\n  console.log('Cast - movies res', response)\n  let movies = [];\n  handleMoviesData(response.data.results, movies);\n  return movies;\n};\n\n\nexport {\n  getTrendingMovies,\n  getQueryMovies,\n  getMovieDetails,\n  getMovieCast,\n  getMovieCrew,\n  getMovieReviews,\n  getMovieSimilar,\n  getTheBestOfGenre,\n  getMoviesWithCast,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"thumb\":\"CastElement_thumb__H0Ylg\",\"label\":\"CastElement_label__3ceLg\",\"image\":\"CastElement_image__O720H\"};","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n"],"names":["CastGrid","styled","Portrait","Role","CastGridItem","id","srcImg","title","releaseDate","includes","className","css","src","placeholderPortrait","alt","useState","similar","setSimilar","useParams","divRef","useRef","useEffect","current","scrollIntoView","behavior","getSimilar","getMovieSimilar","response","ref","length","map","element","nanoid","API_KEY","process","REACT_APP_AUTH_TOKEN","fetchTMDB","urlPath","myParams","axios","params","api_key","language","page","then","console","log","catch","error","getTrendingMovies","movies","handleMoviesData","data","results","forEach","movie","push","movieId","movieTitle","movieBackdrop","backdrop_path","getQueryMovies","query","getMovieDetails","poster_path","release_date","vote_average","vote_count","overview","genres","homepage","tagline","movieDetails","posterPath","Date","getFullYear","voteAverage","voteCount","getMovieCast","cast","profile_path","name","character","getMovieCrew","crew","department","job","getMovieReviews","reviews","author","content","getTheBestOfGenre","genre","size","crypto","getRandomValues","Uint8Array","reduce","byte","toString","toUpperCase"],"sourceRoot":""}