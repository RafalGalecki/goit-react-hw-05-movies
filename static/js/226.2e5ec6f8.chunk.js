"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[226],{2226:function(n,r,t){t.r(r),t.d(r,{default:function(){return P}});var e,a,u,c,o,i=t(3433),s=t(5861),p=t(9439),l=t(7757),f=t.n(l),d=t(2791),h=t(7689),x=t(4390),v=t(168),g=t(6444),m=g.ZP.div(e||(e=(0,v.Z)(["\n  max-width: 160px;\n  background-color: grey;\n  box-shadow: 0px 6px 3px -2px rgba(0, 0, 0, 0.36);\n  &:hover {\n    transform: scale(1.03);\n    transform: box-shadow;\n    box-shadow: 0px 5px 3px 1px rgba(0, 0, 0, 0.46);\n"]))),w=g.ZP.div(a||(a=(0,v.Z)(["\n  font-size: 12px;\n  height: 40px;\n  padding: 10px 0;\n  margin-bottom: 8px;\n"]))),b=g.ZP.li(u||(u=(0,v.Z)(["\n\n  flex-basis: calc((100% - 15px * 5) / 6);\n  display: flex;\n  flex-direction: column;\n\n  \n  }\n"]))),Z=g.ZP.div(c||(c=(0,v.Z)(["\n  display: flex;\n  height: 100%;\n  background-color: #aaaaaa;\n  color: white;\n  justify-content: center;\n  align-items: center;\n"]))),k=t(184),y=function(n){n.id;var r=n.srcImg,t=n.name,e=n.character;return(0,k.jsxs)(b,{children:[r.includes(null)?(0,k.jsx)(Z,{children:(0,k.jsx)("p",{children:"No image yet."})}):(0,k.jsx)(m,{children:(0,k.jsx)("img",{src:r,alt:"".concat(t,"'s portrait")})}),(0,k.jsxs)(w,{children:[(0,k.jsx)("p",{children:t}),(0,k.jsx)("p",{children:"as:"}),(0,k.jsx)("p",{children:e})]})]})},j=t(4151),_=g.ZP.div(o||(o=(0,v.Z)(["\ndisplay: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n  row-gap: 12px;\n  column-gap: 12px;\n  margin-top: 12px;\n  margin-left: auto;\n  margin-right: auto;\n\n"]))),P=function(){var n=(0,d.useState)([]),r=(0,p.Z)(n,2),t=r[0],e=r[1],a=(0,h.UO)().id;return(0,d.useEffect)((function(){var n=function(){var n=(0,s.Z)(f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,x.M1)(a);case 2:null!==(r=n.sent)?(e((0,i.Z)(r)),console.log("CAST",r)):e([]);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[a]),(0,k.jsx)(j.W2,{children:t.length>0?(0,k.jsx)(_,{children:t.map((function(n){return(0,k.jsx)(y,{srcImg:n.srcImg,name:n.name,character:n.character},n.id+function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(n)).reduce((function(n,r){return n+((r&=63)<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r>62?"-":"_")}),"")}())}))}):(0,k.jsx)("div",{children:"Cast not found"})})}},4390:function(n,r,t){t.d(r,{Df:function(){return s},M1:function(){return d},Qu:function(){return l},TP:function(){return f},tx:function(){return h}});var e=t(1413),a=t(5861),u=t(7757),c=t.n(u),o=t(1243),i=function(){var n=(0,a.Z)(c().mark((function n(r,t){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",o.Z.get("https://api.themoviedb.org/3"+r,{params:(0,e.Z)({api_key:"7e626872ba2c457d969115031d94d6fb",language:"en-US",page:1},t)}).then((function(n){return n})).catch((function(n){console.log("error",n)})));case 1:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}(),s=function(){var n=(0,a.Z)(c().mark((function n(){var r,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i("/trending/movie/day");case 2:if(null!==(r=n.sent)){n.next=5;break}return n.abrupt("return",null);case 5:return console.log("FULL RESPONSE",r),t=[],p(r.data.results,t),n.abrupt("return",t);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(n,r){n.forEach((function(n){return r.push({movieId:n.id,movieTitle:n.title})}))},l=function(){var n=(0,a.Z)(c().mark((function n(r){var t,e,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={query:r,page:1},n.next=3,i("/search/movie",t);case 3:if(null!==(e=n.sent)){n.next=6;break}return n.abrupt("return",null);case 6:return a=[],p(e.data.results,a),n.abrupt("return",a);case 9:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),f=function(){var n=(0,a.Z)(c().mark((function n(r){var t,e,a,u,o,s,p,l,f,d;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i("/movie/".concat(r));case 2:if(null!==(t=n.sent)){n.next=5;break}return n.abrupt("return",null);case 5:return e=t.data,a=e.poster_path,u=e.title,o=e.release_date,s=e.vote_average,p=e.vote_count,l=e.overview,f=e.genres,d={posterPath:"https://image.tmdb.org/t/p/w300"+a,title:u,releaseDate:"".concat(new Date(o).getFullYear()),voteAverage:s,voteCount:p,overview:l,genres:f},n.abrupt("return",d);case 8:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),d=function(){var n=(0,a.Z)(c().mark((function n(r){var t,e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i("/movie/".concat(r,"/credits"));case 2:if(null!==(t=n.sent)){n.next=5;break}return n.abrupt("return",null);case 5:return e=[],t.data.cast.forEach((function(n){var r=n.id,t=n.profile_path,a=n.name,u=n.character;return e.push({id:r,srcImg:"https://image.tmdb.org/t/p/w200"+t,name:a,character:u})})),n.abrupt("return",e);case 8:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),h=function(){var n=(0,a.Z)(c().mark((function n(r){var t,e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i("/movie/".concat(r,"/reviews"));case 2:if(null!==(t=n.sent)){n.next=5;break}return n.abrupt("return",null);case 5:return e=[],t.data.results.forEach((function(n){var r=n.id,t=n.author,a=n.content;return e.push({id:r,author:t,content:a})})),n.abrupt("return",e);case 8:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=226.2e5ec6f8.chunk.js.map